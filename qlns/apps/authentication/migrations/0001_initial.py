from django.db import migrations

default_perms = ('add_logentry',
                 'change_logentry',
                 'delete_logentry',
                 'view_logentry',
                 'add_permission',
                 'change_permission',
                 'delete_permission',
                 'view_permission',
                 'add_group',
                 'change_group',
                 'delete_group',
                 'view_group',
                 'add_user',
                 'change_user',
                 'delete_user',
                 'view_user',
                 'add_contenttype',
                 'change_contenttype',
                 'delete_contenttype',
                 'view_contenttype',
                 'add_session',
                 'change_session',
                 'delete_session',
                 'view_session',
                 'add_country',
                 'change_country',
                 'delete_country',
                 'view_country',
                 'add_employee',
                 'can_set_password_employee',
                 'can_set_role_employee',
                 'change_employee',
                 'view_employee',
                 'add_contactinfo',
                 'change_contactinfo',
                 'delete_contactinfo',
                 'view_contactinfo',
                 'add_emergencycontact',
                 'change_emergencycontact',
                 'delete_emergencycontact',
                 'view_emergencycontact',
                 'add_bankinfo',
                 'change_bankinfo',
                 'delete_bankinfo',
                 'view_bankinfo',
                 'add_department',
                 'change_department',
                 'delete_department',
                 'view_department',
                 'add_educationlevel',
                 'change_educationlevel',
                 'delete_educationlevel',
                 'view_educationlevel',
                 'add_language',
                 'change_language',
                 'delete_language',
                 'view_language',
                 'add_license',
                 'change_license',
                 'delete_license',
                 'view_license',
                 'add_skill',
                 'change_skill',
                 'delete_skill',
                 'view_skill',
                 'add_employeelicense',
                 'change_employeelicense',
                 'delete_employeelicense',
                 'view_employeelicense',
                 'add_employeelanguage',
                 'change_employeelanguage',
                 'delete_employeelanguage',
                 'view_employeelanguage',
                 'add_employeeeducation',
                 'change_employeeeducation',
                 'delete_employeeeducation',
                 'view_employeeeducation',
                 'add_employeeskill',
                 'change_employeeskill',
                 'delete_employeeskill',
                 'view_employeeskill',
                 'add_dependent',
                 'change_dependent',
                 'delete_dependent',
                 'view_dependent',
                 'add_applicationconfig',
                 'change_applicationconfig',
                 'delete_applicationconfig',
                 'view_applicationconfig',
                 'add_jobtitle',
                 'change_jobtitle',
                 'delete_jobtitle',
                 'view_jobtitle',
                 'add_location',
                 'change_location',
                 'delete_location',
                 'view_location',
                 'add_job',
                 'can_terminate_job',
                 'delete_job',
                 'view_job',
                 'add_employmentstatus',
                 'change_employmentstatus',
                 'delete_employmentstatus',
                 'view_employmentstatus',
                 'add_terminationreason',
                 'change_terminationreason',
                 'delete_terminationreason',
                 'view_terminationreason',
                 'add_termination',
                 'change_termination',
                 'delete_termination',
                 'view_termination',
                 'add_schedule',
                 'change_schedule',
                 'delete_schedule',
                 'view_schedule',
                 'add_workday',
                 'change_workday',
                 'delete_workday',
                 'view_workday',
                 'add_employeeschedule',
                 'change_employeeschedule',
                 'delete_employeeschedule',
                 'view_employeeschedule',
                 'can_approve_attendance',
                 'can_confirm_attendance',
                 'can_edit_actual_hours_attendance',
                 'can_edit_overtime_hours_attendanc',
                 'can_reject_attendance',
                 'can_revert_attendance',
                 'view_attendance',
                 'add_tracking',
                 'change_tracking',
                 'delete_tracking',
                 'view_tracking',
                 'add_holiday',
                 'change_holiday',
                 'delete_holiday',
                 'view_holiday',
                 'add_timeofftype',
                 'change_timeofftype',
                 'delete_timeofftype',
                 'view_timeofftype',
                 'can_approve_timeoff',
                 'can_reject_timeoff',
                 'view_timeoff',
                 'add_period',
                 'change_period',
                 'delete_period',
                 'view_period',
                 'add_insurancepolicy',
                 'change_insurancepolicy',
                 'delete_insurancepolicy',
                 'view_insurancepolicy',
                 'add_taxpolicy',
                 'change_taxpolicy',
                 'delete_taxpolicy',
                 'view_taxpolicy',
                 'add_employeesalary',
                 'change_employeesalary',
                 'delete_employeesalary',
                 'view_employeesalary',
                 'add_payrollconfig',
                 'change_payrollconfig',
                 'delete_payrollconfig',
                 'view_payrollconfig',
                 'add_salarytemplate',
                 'change_salarytemplate',
                 'delete_salarytemplate',
                 'view_salarytemplate',
                 'add_salarysystemfield',
                 'change_salarysystemfield',
                 'delete_salarysystemfield',
                 'view_salarysystemfield',
                 'add_payroll',
                 'can_calculate_payroll',
                 'can_confirm_payroll',
                 'can_export_excel_payroll',
                 'can_send_payslip_payroll',
                 'delete_payroll',
                 'view_payroll',
                 'view_payslip',)


class Migration(migrations.Migration):

    def forwards_func(apps, schema_editor):
        Permission = apps.get_model("auth", "Permission")
        all_perms = Permission.objects.all()
        for perm in all_perms:
            if perm.codename not in default_perms:
                perm.delete()

    def reverse_func(apps, schema_editor):
        pass

    dependencies = [
    ]

    operations = [
        migrations.RunPython(forwards_func, reverse_func)
    ]
